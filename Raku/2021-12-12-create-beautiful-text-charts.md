圣诞老人从礼物包装部门得到了他的每周礼物包装报告。它包含了许多数字

1 3 7 8 5 3 2 1 3

每一个数字都对应着该部门每个小精灵按字母顺序包装的礼物，从石膏雪球开始，一直到灌木长青。但数字不会唱歌，这使圣诞老人也不会唱歌。我们需要一个简单的方法来直观地检查正在发生的事情。
简单的文本图表

Unix 的哲学是做一件事，而且要做得很好。小的实用程序，只有几行代码，没有依赖性，很容易建立、理解、修改，等等。

它们也是学习一种语言的好帮手。Text::Chart 几乎是在六年前创建的，也是在 Raku（当时叫 Perl 6）在圣诞节发布后正式诞生的一年。我当时对这个东西不太了解，对如何发布一个模块更是一无所知，但我还是尝试着做了。本质上，它是一个单一的函数。

单位模块 Text::Chart。

```raku
constant $default-char is export = "█";

sub vertical ( Int :$max = 10,
               Str :$chart-chars = $default-char,
               *@data ) is export  {

    my $space = " ";
    my @chars = $chart-chars.comb;
    my $chart;
    for $max^...0 -> $i  {
	    for  0..^@data.elems -> $j {
	        $chart ~= @data[$j] > $i ?? @chars[$j % @chars.elems] !!
                    $space;
	    }
	    $chart ~= "\n";
    }
    return $chart;
}
```

使用一个默认的块状字符来构建构成图表的条形图，然后定义一个函数，该函数接收一个最大值（默认任意设置为10），一组字符来构建条形图，然后是几个嵌套的循环（最初甚至使用循环），逐行从顶部开始，构建图表。没有什么高大上的魔法，没有什么花哨的东西。还有许多错误，其中一些是我在写这篇文章时才发现的。

为了帮助和直接使用它，在安装模块的同时，还安装了一个命令行脚本
圣诞老人为自己建立了一个图表

使用下载的模块，圣诞老人输入。

```bash
raku-text-chart 1 3 7 8 5 3 2 1 3
```

获得了。
第一个和倒数第二个精灵将无法通过他们的下一次审查

嘿，不是很完美，但至少通过第四个精灵辛尼-乌帕特里的表现，可以看出他比这群人中的其他人强多少。

然而，这让他想起了一件事。如果......？

```raku
use Text::Chart;

my @data = < 1 2 3 4 5 6 7 6 5 4 3 2 1 >;
my $midway = (@data.elems/2).truncate;
my $max = max(@data);
my &left-pad =  { " " x $midway ~ $_ ~ "\n"};

say  left-pad("✶") ~ vertical( :$max, @data ) ~ left-pad("█") x 2;
```

我们不能不使用左踏板，对吗？而且在这里大有用处。我们得到了这个。

一棵圣诞树...

没有魔法树那么好，但和我的朋友汤姆-布朗德的帖子一样有用，祝你们圣诞快乐!